$sec-color: #e64a3c;
$sec-color-85: rgba(230,74,60,.85);
$sec-color-70: rgba(230,74,60,.7);
$sec-color-50: rgba(230,74,60,.5);
$sec-color-20: rgba(230,74,60,.2);
$sec-color-05: rgba(230,74,60,.05);

@import "secretarium.fonts";
@import "secretarium.navbar";
@import "secretarium.presentation";
@import "secretarium.connect";
@import "secretarium.alerts";
@mixin fadeInOut($time:250ms, $delay:0ms) {
    transition: opacity $time ease-in-out $delay;
}

[v-cloak] { display: none; }

html {
    scroll-behavior: smooth;
    font-size: initial;
    @media screen and (max-height: 720px) {
        font-size: 12px;
    }
}

div#app {
    font-family: Lato, sans-serif;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    opacity: 0; // invisible until loaded
}

content {
    display: block;
    flex: 1 0 auto;
    overflow: auto;

    &>.center {
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 80vh; // approximative
    }

    &>.fixed-center {
        min-width: 40vw;
        margin: 1rem auto;

        @media only screen and (min-width : 768px) {
            margin-top: 10vh;
            margin-bottom: 10vh;

            &.mw-md { max-width: 720px; }
        }
    }

    .container.center .card-sec {
        min-width: 40vw;

        @media only screen and (min-width : 768px) {
            &.mw-md { max-width: 720px; }
        }
    }
}

// Globals
a {
    &.link-unstyled,
    &.link-unstyled:link,
    &.link-unstyled:active,
    &.link-unstyled.active,
    &.link-unstyled:focus,
    &.link-unstyled:hover {
        text-decoration: none !important;
        outline: none !important;
        color: inherit;
    }
}
.fs-85 {
    font-size: 85%;
}
[data-toggle="collapse"] {
    cursor: pointer;

    &.fieldset {
        transition: margin .8s, padding .8s;
        background-color: #fff;
        text-decoration: none;

        &[aria-expanded="true"] {
            margin-bottom: -.6rem;
            margin-left: 1rem;
            padding-left: .5rem!important;
            padding-right: .5rem!important;
        }
    }
}
.first-letter-upper-case::first-letter { text-transform: uppercase; }

// Sec overrides
.text-sec {
    color: $sec-color;

    &.nav-link,&.btn-link {
        border: none;
        padding: 0;
        margin: 0;
        line-height: initial;

        &:hover {
            color: $sec-color;
        }
    }
}
.border-sec {
    border-color: $sec-color!important;
}
.bg-sec {
    color: #fff;
    background-color: $sec-color;
}
hr.sec {
    border-top-color: $sec-color-70;
}

// Forms
.form-sec {
    .form-control:focus {
        border-color: #ced4da;
        box-shadow: 0 0 0 0.2rem rgba(206, 212, 218, 0.5);
    }
    .custom-control-input:checked~.custom-control-label::before {
        border-color: $sec-color;
        background-color: $sec-color;
    }
    .custom-control-input:focus~.custom-control-label::before {
        box-shadow:0 0 0 .2rem $sec-color-50
    }
    .custom-control-input:focus:not(:checked)~.custom-control-label::before {
        border-color:$sec-color-50;
    }
    .custom-control-input:disabled:checked~.custom-control-label::before {
        background-color: $sec-color-70;
    }
    .custom-file-input:focus~.custom-file-label {
        border-color:$sec-color;
        box-shadow:0 0 0 .2rem $sec-color-50
    }
}
.custom-checkbox.checkbox-lg {
    .custom-control-label::before,
    .custom-control-label::after {
        top: 0.05rem;
        width: 1.25rem;
        height: 1.25rem;
    }
}
.btn-sec {
    color:#fff;
    background-color:$sec-color;
    border-color:$sec-color;

    &:not(.dropdown-toggle-split) {
        min-width: 8rem;
    }
    &:hover,&:not(:disabled):not(.disabled).active,&:not(:disabled):not(.disabled):active {
        color:#fff;
        background-color: #cd291a; // #c02618
        border-color: #c02618; // #b32317
    }
    &.focus,&:focus,&:not(:disabled):not(.disabled).active:focus,&:not(:disabled):not(.disabled):active:focus {
        box-shadow:0 0 0 .2rem $sec-color-50
    }
    &.disabled,&:disabled {
        color:#fff;
        background-color:$sec-color;
        border-color:$sec-color;
    }
}
.show>.btn-sec.dropdown-toggle {
    color:#fff;
    background-color: #cd291a;
    border-color: #c02618;
}
.show>.btn-sec.dropdown-toggle:focus {
    box-shadow:0 0 0 .2rem $sec-color-50
}
.custom-file-label.sec {
    border: 1px solid $sec-color-50;

    &::after {
        color:#fff;
        background-color:$sec-color;
    }
}
.dropdown-toggle {
    &.no-caret::after { display:none; }
    &.no-outline {
        &.focus, &:focus {
            outline: 0;
            box-shadow: none;
        }
    }
}

// Cards
.card-sec {
    .card-header {
        background-color: transparent;
        border-bottom: 0.1rem solid $sec-color-85;

        &.border-sm { border-bottom-width: 1px; }
    }
    .card-title {
        font-weight: bold;

        &[data-toggle="collapse"] {
            &.collapsed, &[aria-expanded="false"] {
                margin-bottom: 0;
                i.fa-chevron-down { display: block; }
            }
            i.fa-chevron-down { display: none; }
        }
        span.sec-underline { border: solid 0.1rem $sec-color; }
    }
    .card-body {
        .form-group label { margin-bottom: 0.15rem; }
    }

    input[type="text"].lg {
        min-width: 25rem;
    }

    h3 i.sec-logo {
        display: inline-block;
        height: 2rem;
        width: 3rem;
        background-image: url('../images/secretarium_title.svg');
        background-repeat: no-repeat;
        background-size: auto 2rem;
        vertical-align: -0.4rem;
    }
    h1 i.sec-logo {
        display: inline-block;
        height: 2.5rem;
        width: 3.5rem;
        background-image: url('../images/secretarium_title.svg');
        background-repeat: no-repeat;
        background-size: auto 2.5rem;
        vertical-align: -0.3rem;
    }

    h5 i.fas {
        font-size: 1rem;
        padding-top: .2rem;
    }
}

// Tables
.table.table-sec thead th {
    border-top: none;
    border-bottom: 0.1rem solid $sec-color-85;
}

// Lists
.list-item-sec {
    padding: .5rem 0.75rem;
    border-left: .1rem solid $sec-color-85;
    background-color: $sec-color-05;

    p {
        color: #777;
        font-size: 90%;
    }

    &:not(:disabled):not(.disabled):hover,
    &:not(:disabled):not(.disabled).active,
    &:not(:disabled):not(.disabled):active {
        cursor: pointer;
        background-color: $sec-color-20;
        border-color: $sec-color;
    }

    &+.list-item-sec { margin-top: 1.5rem; }
}

// Stage
#stage-full-logo, #stage-logo {
    opacity: 0;
    display: none;
}
#stage {
    width: 100%;
    height: 100vh;
    position: absolute;
    top: 0;
    left: 0;
    overflow: hidden;

    img {
        position: absolute;
        opacity: 0;
        height: 8vh;
        @include fadeInOut(1000ms);

        &.active { opacity: 1; }
        &.full-logo { @include fadeInOut(2000ms); }
        &.stage-logo {
            @include fadeInOut(800ms);
            &.active { @include fadeInOut(3000ms, 700ms); }
            &.stage-0  { @include fadeInOut(500ms); &.active { @include fadeInOut(1500ms, 700ms); } }
            &.stage-1  { @include fadeInOut(520ms); &.active { @include fadeInOut(1600ms, 700ms); } }
            &.stage-2  { @include fadeInOut(540ms); &.active { @include fadeInOut(1700ms, 700ms); } }
            &.stage-3  { @include fadeInOut(560ms); &.active { @include fadeInOut(1800ms, 700ms); } }
            &.stage-4  { @include fadeInOut(580ms); &.active { @include fadeInOut(1900ms, 700ms); } }
            &.stage-5  { @include fadeInOut(600ms); &.active { @include fadeInOut(2000ms, 700ms); } }
            &.stage-6  { @include fadeInOut(620ms); &.active { @include fadeInOut(2100ms, 700ms); } }
            &.stage-7  { @include fadeInOut(640ms); &.active { @include fadeInOut(2200ms, 700ms); } }
            &.stage-8  { @include fadeInOut(660ms); &.active { @include fadeInOut(2300ms, 700ms); } }
            &.stage-9  { @include fadeInOut(680ms); &.active { @include fadeInOut(2400ms, 700ms); } }
            &.stage-10 { @include fadeInOut(700ms); &.active { @include fadeInOut(2500ms, 700ms); } }
            &.stage-11 { @include fadeInOut(720ms); &.active { @include fadeInOut(2600ms, 700ms); } }
            &.stage-12 { @include fadeInOut(740ms); &.active { @include fadeInOut(2700ms, 700ms); } }
            &.stage-13 { @include fadeInOut(760ms); &.active { @include fadeInOut(2800ms, 700ms); } }
            &.stage-14 { @include fadeInOut(780ms); &.active { @include fadeInOut(2900ms, 700ms); } }
            &.stage-15 { @include fadeInOut(800ms); &.active { @include fadeInOut(3000ms, 700ms); } }
        }
    }
}
body:not(.page-presentation) > #stage {
    display: none;
}

// Drop area
#drop-area {
    position: fixed;
    z-index: 10;
    top: 0; left: 0; right: 0; bottom: 0;
    border: 5px dashed rgba(0,0,0,.3);
	margin: 2px 2px 1px 2px;
	display: none;
}
body.dragging #drop-area {
	border-color: #dc3545;
	display: block;
}
body.dragging.active #drop-area {
	border-color: #00aaf0;
	display: block;
}

// Notif states
.notif-state {
	vertical-align: -1px;
}
.notif-state-chain {
	font-size: 60%;
}

// Page transition
.page-enter-active, .page-leave-active {
	transition: opacity .2s, transform .2s;
}
.page-enter, .page-leave-to {
	opacity: 0;
	transform: translateX(-30%);
}
.btn-icon-enter-active, .btn-icon-leave-active {
	transition: opacity .8s;
}
.btn-icon-enter, .btn-icon-leave-to {
	opacity: 0;
}

// Autocomplete
.autocomplete-suggestions {
    color: #495057;
    background-color: #fff;
    border: 1px solid #80bdff;
    border-top:0;
    outline: 0;
    box-shadow: 0.2rem 0.2rem 0 0 #bdddff, -0.2rem 0.2rem 0 0 #bdddff;
    overflow: auto;
    padding-top: .2rem;
    margin-top: -.2rem;
    border-bottom-left-radius: .25rem;
    border-bottom-right-radius: .25rem;
 }
.autocomplete-suggestion { cursor: pointer; padding: .25rem .75rem; white-space: nowrap; overflow: hidden; }
.autocomplete-selected { background: #F0F0F0; }
.autocomplete-suggestions strong { font-weight: normal; color: #3399FF; }
.input[type="text"].autocomplete-active {
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
}

// Footer
footer {
    &:not(.presentation) {
        margin: auto auto 0 auto;
        width: 100%;
        border-top: 1px solid #ddd;

        span { display: inline-block; }
        i.fa-small {
            font-size: 60%;
            vertical-align: 25%;
        }

        #connection-menu {
            padding: 1rem;
            font-size: 80%;

            h6 { font-weight: bold; }
            .states {
                white-space: nowrap;

                .btn { font-size: inherit; }
                >div { display: inline-block; }
                .cluster-name {
                    font-weight: bold;
                    min-width: 5rem;
                }
            }
        }
    }
    &.presentation {
        background-color: #333; // #003399;

        h5 {
            font-size: 1.1rem;
            color: #ffffff;
        }
        li a {
            font-size: 1rem;
            color: #ffffff;
            &:hover {
                font-size: 1rem;
                color: #919cb1;
            }
        }
        p, footer p a {
            font-size: 0.8rem;
            color: #718cbd;
        }
        p a:hover {
            color: #ffffff;
        }
    }
}

// Utils
.badge-top
{
	vertical-align: top;
	padding: .1em .25em;
}
.badge-notif
{
    margin-right: -1.2em;
    font-size: 50%;
    padding: .2em .35em;
    vertical-align: top;
}
.progress-bar.no-transition {
	transition:none;
}
.pie text {
    font: bold 8px sans-serif;
    fill: #fff;
}

// Apps
.app-header {
    background-color: #eee;
    border-bottom: 1px solid rgba(0,0,0,0.1);
    margin-bottom: 2rem;

    nav.nav-sec {
        a.nav-link {
            color: #444;
            padding: .75rem 1rem;

            &.active, &:hover { color: #e64a3c; }
        }
    }
}