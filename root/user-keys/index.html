<html>
    <head>
        <meta charset="utf-8">
        <script>
            window.onmessage = e => {
                if (!window.parent || !e.data || !e.data.type)
                    return;
                if (!/^https:\/\/(.*\.)?(secretarium|swisscom)\.(com|org|tech|ch|dev)\/?$/.test(e.origin))
                    return;

                switch(e.data.type) {
                    case 'set':
                        if(!e.data) return;
                        localStorage.setItem('secretarium-keys', JSON.stringify(e.data));
                        break;
                    case 'get':
                        var data = localStorage.getItem('secretarium-keys');
                        window.parent.postMessage(data, e.origin);
                        break;
                }
            };
        </script>
    </head>
    <body></body>
</html>